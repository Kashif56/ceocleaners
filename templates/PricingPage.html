{% extends 'LandingPageBase.html' %}
{% load custom_filters %}

{% block title %}Pricing - CleaningBiz AI{% endblock %}

<!-- Load subscription plans data -->
{% load subscription_plans %}
{% get_subscription_plans as plans %}

{% block content %}
<!-- Hero Section -->
<section class="py-5 position-relative overflow-hidden bg-dark-surface-2">
    <div class="position-absolute top-0 start-0 end-0 bottom-0">
        <img src="https://images.unsplash.com/photo-1587614382346-4ec70e388b28?auto=format&fit=crop&q=80" alt="Background" class="w-100 h-100 object-fit-cover opacity-10">
        <div class="position-absolute top-0 start-0 end-0 bottom-0 bg-dark opacity-80"></div>
        <!-- Decorative elements -->
        <div class="position-absolute" style="top: -50px; right: -50px; width: 200px; height: 200px; background-color: rgba(255, 107, 53, 0.1); border-radius: 50%;"></div>
        <div class="position-absolute" style="bottom: -100px; left: -100px; width: 300px; height: 300px; background-color: rgba(45, 91, 255, 0.1); border-radius: 50%;"></div>
    </div>
    <div class="container position-relative py-5 text-center">
        <span class="badge bg-primary-600 text-white px-3 py-2 mb-3 fs-6" data-aos="fade-down">Flexible Plans</span>
        <h1 class="display-3 fw-bold text-white mb-4" data-aos="fade-up">Transparent Pricing for <span class="text-gradient">Every Business Size</span></h1>
        <p class="fs-4 text-white opacity-80 mx-auto mb-5 col-lg-8" data-aos="fade-up" data-aos-delay="100">Choose the plan that best fits your cleaning business needs and scale as you grow</p>
        <div class="d-flex justify-content-center">
            <a href="#pricing-plans" class="btn btn-accent btn-lg px-4 py-3 rounded-pill d-inline-flex align-items-center shadow-glow" data-aos="fade-up" data-aos-delay="200">
                <span class="me-2">View Plans</span>
                <i class="fas fa-arrow-down"></i>
            </a>
        </div>
    </div>
</section>

<!-- Pricing Toggle Section -->
<section class="py-5 bg-dark-surface" id="pricing-plans">
    <div class="container">
        <!-- Pricing Toggle -->
        <div class="d-flex flex-column align-items-center justify-content-center mb-5">
            <div class="pricing-switch-container p-2 bg-dark-surface-2 rounded-pill d-inline-flex align-items-center mb-3" data-aos="fade-up">
                <span class="pricing-switch-label px-4 py-2 rounded-pill text-white" id="monthly-label">Monthly</span>
                <label class="pricing-toggle mx-2">
                    <input type="checkbox" id="pricing-toggle" class="sr-only">
                    <span class="pricing-slider"></span>
                </label>
                <span class="pricing-switch-label px-4 py-2 rounded-pill text-white" id="yearly-label">Yearly</span>
            </div>
            <div class="yearly-savings badge bg-accent text-white px-3 py-2 mt-2" data-aos="fade-up" data-aos-delay="100">Save 20% with annual billing</div>
        </div>
        
        <!-- Dynamic Pricing Cards with Subscription Plans data -->
        <div class="row g-4 justify-content-center">
            {% for plan in plans %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100" data-plan-type="{{ plan.billing_cycle }}">
                <div class="card h-100 border-0 rounded-4 shadow-sm pricing-card bg-dark-surface-2 border-gradient {% if plan.name == 'Professional Plan' %}featured{% endif %}">
                    {% if plan.name == 'Professional Plan' %}
                    <div class="position-absolute" style="top: 0; left: 0; right: 0; overflow: visible; text-align: center; z-index: 5;">
                        <div style="background-color: var(--bs-accent); color: white; display: inline-block; padding: 8px 16px; border-radius: 0 0 12px 12px; font-weight: bold; font-size: 14px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                            <i class="fas fa-star me-1"></i> Most Popular
                        </div>
                    </div>
                    <div class="card-body p-5 pt-5 mt-3">
                    {% else %}
                    <div class="card-body p-5">
                    {% endif %}
                        <div class="plan-header mb-4">
                            <div class="plan-icon mb-4 d-inline-flex align-items-center justify-content-center rounded-circle" style="width: 70px; height: 70px; background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.2) 100%);">
                                {% if 'Starter' in plan.name %}
                                <i class="fas fa-rocket text-primary-color fs-3"></i>
                                {% elif 'Professional' in plan.name %}
                                <i class="fas fa-building text-primary-color fs-3"></i>
                                {% else %}
                                <i class="fas fa-crown text-primary-color fs-3"></i>
                                {% endif %}
                            </div>
                            <h3 class="card-title h4 fw-bold mb-2 text-white">
                                {% if 'Starter' in plan.name %}Starter{% elif 'Professional' in plan.name %}Professional{% else %}Enterprise{% endif %}
                            </h3>
                            <p class="card-text text-dark-text-secondary">
                                {% if 'Starter' in plan.name %}
                                Perfect for small cleaning businesses just getting started
                                {% elif 'Professional' in plan.name %}
                                Ideal for growing cleaning businesses with multiple teams
                                {% else %}
                                For established cleaning businesses with complex needs
                                {% endif %}
                            </p>
                        </div>
                        <div class="pricing-amount d-flex align-items-baseline mb-4">
                            <span class="currency fs-5 text-dark-text-secondary me-1">$</span>
                            <span class="display-4 fw-bold text-primary-color" data-original-price="{{ plan.price }}">{{ plan.price|floatformat:0 }}</span>
                            <span class="text-dark-text-secondary ms-2">
                                {% if plan.billing_cycle == 'monthly' %}/month{% else %}/month, billed annually{% endif %}
                            </span>
                        </div>
                        <div class="features-container flex-grow-1">
                            <ul class="list-unstyled mb-4 feature-list">
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">{{ plan.voice_minutes }} Voice Minutes</span>
                                </li>
                                <!-- <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">{{ plan.voice_calls }} Voice Calls</span>
                                </li> -->
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">{{ plan.sms_messages }} SMS Messages</span>
                                </li>
                                
                                {% if plan.features.basic_analytics and not plan.features.advanced_analytics %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Basic Analytics</span>
                                </li>
                                {% endif %}
                                
                                {% if plan.features.advanced_analytics %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Advanced Analytics</span>
                                </li>
                                {% endif %}
                                
                                {% if plan.features.email_support %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Email Support</span>
                                </li>
                                {% endif %}
                                
                                {% if plan.features.priority_support %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Priority Support</span>
                                </li>
                                {% endif %}
                                
                                {% if plan.features.dedicated_account_manager %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Dedicated Account Manager</span>
                                </li>
                                {% endif %}

                                {% if plan.features.custom_integrations %}
                                <li class="d-flex align-items-center mb-3">
                                    <div class="feature-icon d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle me-3" style="width: 24px; height: 24px;">
                                        <i class="fas fa-check text-success fs-6"></i>
                                    </div>
                                    <span class="text-white opacity-80">Custom Integrations</span>
                                </li>
                                {% endif %}
                            </ul>
                        </div>
                        
                        <!-- Button linked to the payment system -->
                        <a href="{% url 'subscription:select_plan' plan.id %}" class="btn {% if 'Professional' in plan.name %}btn-accent{% else %}btn-outline-accent{% endif %} w-100 py-3 rounded-pill shadow-glow">
                            Select Plan
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Feature Comparison Table -->
<section class="py-5 bg-dark-surface">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge bg-primary-600 text-white px-3 py-2 mb-3 fs-6">Features</span>
            <h2 class="display-5 fw-bold text-white mb-3">Compare Features</h2>
            <p class="fs-5 text-white opacity-80">See which plan is right for your business</p>
        </div>
        
        <div class="comparison-table-wrapper" data-aos="fade-up">
            <div class="comparison-table">
                <!-- Header Row -->
                <div class="comparison-row header">
                    <div class="comparison-cell feature-name">Feature</div>
                    <div class="comparison-cell text-center">Starter</div>
                    <div class="comparison-cell text-center highlight">Professional</div>
                    <div class="comparison-cell text-center">Enterprise</div>
                </div>
                
                <!-- AI Voice Agent -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">AI Voice Agent</div>
                    {% for plan in plans %}
                        {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.voice_minutes }} mins/mo</div>
                        {% endif %}
                        {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center highlight">{{ plan.voice_minutes }} mins/mo</div>
                        {% endif %}
                        {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.voice_minutes }} mins/mo</div>
                        {% endif %}
                    {% endfor %}
                </div>
                
                <!-- Voice Calls -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">Voice Calls</div>
                    {% for plan in plans %}
                        {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.voice_calls }}</div>
                        {% endif %}
                        {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center highlight">{{ plan.voice_calls }}</div>
                        {% endif %}
                        {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.voice_calls }}</div>
                        {% endif %}
                    {% endfor %}
                </div>
                
                <!-- SMS Messages -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">SMS Messages</div>
                    {% for plan in plans %}
                        {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.sms_messages }}</div>
                        {% endif %}
                        {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center highlight">{{ plan.sms_messages }}</div>
                        {% endif %}
                        {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                            <div class="comparison-cell text-center">{{ plan.sms_messages }}</div>
                        {% endif %}
                    {% endfor %}
                </div>
                
                <!-- Analytics -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">Analytics</div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.basic_analytics %}Basic{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center highlight">
                        {% for plan in plans %}
                            {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.advanced_analytics %}Advanced{% elif plan.features.basic_analytics %}Basic{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.advanced_analytics %}Custom{% elif plan.features.basic_analytics %}Basic{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Support -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">Support</div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.email_support %}Email{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center highlight">
                        {% for plan in plans %}
                            {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.priority_support %}Priority{% elif plan.features.email_support %}Email{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.dedicated_account_manager %}Dedicated Manager{% elif plan.features.priority_support %}Priority{% elif plan.features.email_support %}Email{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Custom Integrations -->
                <div class="comparison-row">
                    <div class="comparison-cell feature-name">Custom Integrations</div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Starter' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.custom_integrations %}<i class="fas fa-check text-success"></i>{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center highlight">
                        {% for plan in plans %}
                            {% if 'Professional' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.custom_integrations %}<i class="fas fa-check text-success"></i>{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="comparison-cell text-center">
                        {% for plan in plans %}
                            {% if 'Enterprise' in plan.name and plan.billing_cycle == 'monthly' %}
                                {% if plan.features.custom_integrations %}<i class="fas fa-check text-success"></i>{% else %}<i class="fas fa-times text-dark-text-secondary"></i>{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-5 bg-dark-surface">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge bg-primary-600 text-white px-3 py-2 mb-3 fs-6">Support</span>
            <h2 class="display-5 fw-bold text-white mb-3">Frequently Asked Questions</h2>
            <p class="fs-5 text-white opacity-80">Everything you need to know about our pricing and plans</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion" id="pricingFAQ">
                    <!-- Question 1 -->
                    <div class="accordion-item border-0 mb-4 shadow-sm rounded-4 overflow-hidden bg-dark-surface-2" data-aos="fade-up" data-aos-delay="100">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-medium py-4 px-4 bg-dark-surface-2 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#faqOne" aria-expanded="true" aria-controls="faqOne">
                                What is an AI Voice Agent?
                            </button>
                        </h2>
                        <div id="faqOne" class="accordion-collapse collapse show" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body py-4 px-4 text-white opacity-80">
                                Our AI Voice Agent is an advanced virtual assistant that handles phone calls for your cleaning business. It can answer customer inquiries, collect information, provide quotes, schedule appointments, and more. It sounds like a real person and can handle complex conversations naturally, freeing up your time to focus on running your business.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div class="accordion-item border-0 mb-4 shadow-sm rounded-4 overflow-hidden bg-dark-surface-2" data-aos="fade-up" data-aos-delay="200">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-medium py-4 px-4 collapsed bg-dark-surface-2 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#faqTwo" aria-expanded="false" aria-controls="faqTwo">
                                How do the voice minutes work?
                            </button>
                        </h2>
                        <div id="faqTwo" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body py-4 px-4 text-white opacity-80">
                                Voice minutes refer to the total time your AI Voice Agent spends on calls with customers. For example, if a customer call lasts 5 minutes, that counts as 5 minutes toward your monthly allowance. The Starter plan includes 100 minutes per month, Professional includes 300 minutes, and Enterprise offers unlimited minutes. You can always upgrade your plan if you need more minutes.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 3 -->
                    <div class="accordion-item border-0 mb-4 shadow-sm rounded-4 overflow-hidden bg-dark-surface-2" data-aos="fade-up" data-aos-delay="300">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-medium py-4 px-4 collapsed bg-dark-surface-2 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#faqThree" aria-expanded="false" aria-controls="faqThree">
                                Can I customize what the AI Voice Agent says?
                            </button>
                        </h2>
                        <div id="faqThree" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body py-4 px-4 text-white opacity-80">
                                Yes, absolutely! You can customize your AI Voice Agent's name, greeting, script, services offered, pricing, and more. The Professional and Enterprise plans offer more advanced customization options. Our system allows you to store templates with placeholders that are dynamically filled with your business details at runtime, making the AI Voice Agent fully adaptable to your specific business needs.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 4 -->
                    <div class="accordion-item border-0 mb-4 shadow-sm rounded-4 overflow-hidden bg-dark-surface-2" data-aos="fade-up" data-aos-delay="400">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-medium py-4 px-4 collapsed bg-dark-surface-2 text-white" type="button" data-bs-toggle="collapse" data-bs-target="#faqFour" aria-expanded="false" aria-controls="faqFour">
                                Do you offer a free trial?
                            </button>
                        </h2>
                        <div id="faqFour" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body py-4 px-4 text-white opacity-80">
                                Yes, we offer a 30-day trial for just $30 USD. This gives you a full month to experience all the features of our AI Voice Agent platform with your actual customers. The trial includes all features of your chosen plan so you can see the real benefits for your cleaning business. After the trial period, you'll automatically transition to your selected subscription plan.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 position-relative overflow-hidden bg-dark-surface-2">
    <div class="position-absolute top-0 start-0 end-0 bottom-0">
        <div class="position-absolute" style="top: -50px; right: -50px; width: 200px; height: 200px; background-color: rgba(255, 107, 53, 0.1); border-radius: 50%;"></div>
        <div class="position-absolute" style="bottom: -100px; left: -100px; width: 300px; height: 300px; background-color: rgba(45, 91, 255, 0.1); border-radius: 50%;"></div>
    </div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-7 mb-5 mb-lg-0" data-aos="fade-right">
                <span class="badge bg-primary-600 text-white px-3 py-2 mb-3 fs-6">Get Started Today</span>
                <h2 class="display-4 fw-bold text-white mb-4">Ready to Transform Your Cleaning Business?</h2>
                <p class="fs-5 text-white opacity-80 mb-4">Join hundreds of cleaning businesses that have increased their bookings and streamlined their operations with our AI Voice Agent.</p>
                <div className="d-flex flex-wrap gap-3">
                    <a href="{% url 'accounts:signup' %}" className="btn btn-accent btn-lg px-4 py-3 rounded-pill shadow-glow">Start Free Trial</a>
                    <a href="mailto:info@cleaningbizai.com" className="btn btn-outline-light btn-lg px-4 py-3 rounded-pill">Contact Sales</a>
                </div>
            </div>
            <div class="col-lg-5" data-aos="fade-left">
                <div class="card bg-dark-surface p-4 border-gradient rounded-4 shadow-lg">
                    <div class="card-body p-3">
                        <h3 class="h4 fw-bold text-white mb-4">Schedule a Demo</h3>
                        <form>
                            <div class="mb-3">
                                <label for="demoName" class="form-label text-white opacity-80">Full Name</label>
                                <input type="text" class="form-control form-control-lg bg-dark-surface-3 border-0 text-white" id="demoName" placeholder="Your name">
                            </div>
                            <div class="mb-3">
                                <label for="demoEmail" class="form-label text-white opacity-80">Email Address</label>
                                <input type="email" class="form-control form-control-lg bg-dark-surface-3 border-0 text-white" id="demoEmail" placeholder="you@company.com">
                            </div>
                            <div class="mb-3">
                                <label for="demoCompany" class="form-label text-white opacity-80">Company Name</label>
                                <input type="text" class="form-control form-control-lg bg-dark-surface-3 border-0 text-white" id="demoCompany" placeholder="Your company">
                            </div>
                            <div class="mb-4">
                                <label for="demoPhone" class="form-label text-white opacity-80">Phone Number</label>
                                <input type="tel" class="form-control form-control-lg bg-dark-surface-3 border-0 text-white" id="demoPhone" placeholder="(123) 456-7890">
                            </div>
                            <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill">Request Demo</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    :root {
    --bs-accent: #FF6B35;
    --bs-primary-color: #2D5BFF;
}
    /* Custom pricing toggle styling */
    .pricing-toggle {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }
    
    .pricing-toggle .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    
    .pricing-toggle .pricing-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(255, 255, 255, 0.2);
        transition: .4s;
        border-radius: 34px;
    }
    
    .pricing-toggle .pricing-slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    
    #pricing-toggle:checked + .pricing-slider {
        background-color: var(--primary-color);
    }
    
    #pricing-toggle:checked + .pricing-slider:before {
        transform: translateX(26px);
    }
    
    .pricing-switch-container {
        background-color: var(--dark-surface-2) !important;
    }
    
    .pricing-switch-label {
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    #monthly-label.active, #yearly-label.active {
        background-color: var(--primary-color);
        color: white;
    }
    
    /* Pricing card styling */
    .pricing-card {
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .pricing-card:hover {
        transform: translateY(-10px);
    }
    
    .pricing-card.featured {
        border-color: var(--accent-color);
        z-index: 1;
    }
    
    .feature-icon {
        min-width: 24px;
    }
    
    /* Pricing card equal height and button alignment */
    .pricing-card .card-body {
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .pricing-card .feature-list {
        flex-grow: 1;
    }
    
    .pricing-card .btn {
        margin-top: auto;
    }
    
    /* Custom Comparison Table Styling */
    .comparison-table-wrapper {
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        margin-bottom: 3rem;
    }
    
    .comparison-table {
        width: 100%;
        display: table;
        border-collapse: collapse;
        background-color: var(--dark-surface-2);
        color: var(--dark-text-primary);
    }
    
    .comparison-row {
        display: table-row;
        transition: background-color 0.3s ease;
    }
    
    .comparison-row:not(.header):hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .comparison-row.header {
        background-color: var(--dark-surface-3);
        font-weight: bold;
    }
    
    .comparison-cell {
        display: table-cell;
        padding: 1.25rem 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        vertical-align: middle;
    }
    
    .comparison-cell.feature-name {
        font-weight: 500;
        color: var(--dark-text-primary);
    }
    
    .comparison-cell.highlight {
        background-color: rgba(33, 150, 243, 0.05);
        border-top: 2px solid var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
    }
    
    .comparison-row:first-child .comparison-cell.highlight {
        border-top: none;
    }
    
    .comparison-row:last-child .comparison-cell.highlight {
        border-bottom: none;
    }
    
    .comparison-row.header .comparison-cell.highlight {
        background-color: var(--primary-color);
        color: white;
    }
    
    @media (max-width: 991.98px) {
        .comparison-table-wrapper {
            overflow-x: auto;
        }
        
        .comparison-table {
            min-width: 800px;
        }
    }
    
    /* Accordion styling */
    .accordion-button:not(.collapsed) {
        color: var(--white);
        background-color: var(--dark-surface-3);
        box-shadow: none;
    }
    
    .accordion-button:not(.collapsed)::after {
        filter: brightness(10);
    }
    
    .accordion-button::after {
        filter: brightness(10);
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: transparent;
    }

    /* Background gradient */
    .bg-gradient {
        background: linear-gradient(135deg, #2D5BFF 0%, #1a237e 100%);
    }
    
    /* Opacity classes */
    .opacity-10 {
        opacity: 0.1;
    }
    
    .opacity-70 {
        opacity: 0.7;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize toggle functionality
        const pricingToggle = document.getElementById('pricing-toggle');
        const monthlyLabel = document.getElementById('monthly-label');
        const yearlyLabel = document.getElementById('yearly-label');
        const yearlySavings = document.querySelector('.yearly-savings');
        
        // Create variables to track displayed cards
        const monthlyCards = document.querySelectorAll('[data-plan-type="monthly"]');
        const yearlyCards = document.querySelectorAll('[data-plan-type="yearly"]');
        
        if (pricingToggle) {
            // Set initial state
            monthlyLabel.classList.add('active');
            
            pricingToggle.addEventListener('change', function() {
            if (this.checked) {
                    // Show yearly plans
                    document.querySelectorAll('[data-plan-type="monthly"]').forEach(card => {
                        card.style.display = 'none';
                    });
                    document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                        card.style.display = 'block';
                    });
                    
                    // Toggle active class for labels
                monthlyLabel.classList.remove('active');
                yearlyLabel.classList.add('active');
                yearlySavings.style.display = 'inline-block';
                
                // Apply 20% discount to yearly prices
                document.querySelectorAll('.display-4.fw-bold.text-primary-color').forEach(priceElement => {
                    const originalPrice = parseFloat(priceElement.getAttribute('data-original-price') || priceElement.textContent);
                    const discountedPrice = (originalPrice * 0.8).toFixed(0); // 20% discount
                    priceElement.textContent = discountedPrice;
                });
            } else {
                    // Show monthly plans
                    document.querySelectorAll('[data-plan-type="monthly"]').forEach(card => {
                        card.style.display = 'block';
                    });
                    document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                        card.style.display = 'none';
                    });
                    
                    // Toggle active class for labels
                yearlyLabel.classList.remove('active');
                    monthlyLabel.classList.add('active');
                yearlySavings.style.display = 'none';
                
                // Restore original prices
                document.querySelectorAll('.display-4.fw-bold.text-primary-color').forEach(priceElement => {
                    const originalPrice = priceElement.getAttribute('data-original-price');
                    if (originalPrice) {
                        priceElement.textContent = originalPrice;
                    }
                });
            }
        });
        
            // Trigger initial display setup
            document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                card.style.display = 'none';
            });
        }
    });
</script>
{% endblock %}

{% block scripts %}
<style>
    /* Custom pricing toggle styling */
    .pricing-toggle {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    
    .pricing-toggle .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    
    .pricing-toggle .pricing-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #e0e0e0;
        transition: .4s;
        border-radius: 34px;
    }
    
    .pricing-toggle .pricing-slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    .pricing-toggle input:checked + .pricing-slider {
        background-color: var(--bs-primary);
    }
    
    .pricing-toggle input:focus + .pricing-slider {
        box-shadow: 0 0 1px var(--bs-primary);
    }
    
    .pricing-toggle input:checked + .pricing-slider:before {
        transform: translateX(26px);
    }
    
    /* Pricing switch container */
    .pricing-switch-container {
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
    }
    
    .pricing-switch-label {
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    #monthly-label.active, #yearly-label.active {
        background-color: var(--bs-primary);
        color: white;
    }
    
    /* Custom card styling */
    .pricing-card {
        transition: all 0.3s ease;
        border-radius: 1rem;
    }
    
    .pricing-card:hover {
        transform: translateY(-10px);
    }
    
    .pricing-card.featured {
        border: 2px solid var(--bs-primary);
        z-index: 1;
    }
    
    .rounded-4 {
        border-radius: 1rem;
    }
    
    /* Accent color for badges and buttons */
    .bg-accent {
        background-color: #FF6B35;
    }
    
    .text-accent {
        color: #FF6B35;
    }
    
    .btn-accent {
        background-color: #FF6B35;
        border-color: #FF6B35;
        color: white;
    }
    
    .btn-accent:hover {
        background-color: #e55a2a;
        border-color: #e55a2a;
        color: white;
    }
    
    .btn-outline-accent {
        background-color: transparent;
        border-color: #FF6B35;
        color: #FF6B35;
    }
    
    .btn-outline-accent:hover {
        background-color: #FF6B35;
        color: white;
    }
    
    /* Primary color for text */
    .text-primary-color {
        color: #2D5BFF;
    }
    
    /* Feature list styling */
    .feature-list li {
        transition: all 0.2s ease;
    }
    
    .feature-list li:hover {
        transform: translateX(5px);
    }
    
    /* Pricing card equal height and button alignment */
    .pricing-card .card-body {
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .pricing-card .feature-list {
        flex-grow: 1;
    }
    
    .pricing-card .btn {
        margin-top: auto;
    }
    
    /* Accordion styling */
    .accordion-button:not(.collapsed) {
        background-color: rgba(45, 91, 255, 0.05);
        color: var(--bs-primary);
        box-shadow: none;
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: rgba(45, 91, 255, 0.1);
    }

    /* Background gradient */
    .bg-gradient {
        background: linear-gradient(135deg, #2D5BFF 0%, #1a237e 100%);
    }
    
    /* Opacity classes */
    .opacity-10 {
        opacity: 0.1;
    }
    
    .opacity-70 {
        opacity: 0.7;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize toggle functionality
        const pricingToggle = document.getElementById('pricing-toggle');
        const monthlyLabel = document.getElementById('monthly-label');
        const yearlyLabel = document.getElementById('yearly-label');
        const yearlySavings = document.querySelector('.yearly-savings');
        
        // Create variables to track displayed cards
        const monthlyCards = document.querySelectorAll('[data-plan-type="monthly"]');
        const yearlyCards = document.querySelectorAll('[data-plan-type="yearly"]');
        
        if (pricingToggle) {
            // Set initial state
            monthlyLabel.classList.add('active');
            
            pricingToggle.addEventListener('change', function() {
                if (this.checked) {
                    // Show yearly plans
                    document.querySelectorAll('[data-plan-type="monthly"]').forEach(card => {
                        card.style.display = 'none';
                    });
                    document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                        card.style.display = 'block';
                    });
                
                // Toggle active class for labels
                    monthlyLabel.classList.remove('active');
                    yearlyLabel.classList.add('active');
                    yearlySavings.style.display = 'inline-block';
                    
                    // Apply 20% discount to yearly prices
                    document.querySelectorAll('.display-4.fw-bold.text-primary-color').forEach(priceElement => {
                        const originalPrice = parseFloat(priceElement.getAttribute('data-original-price') || priceElement.textContent);
                        const discountedPrice = (originalPrice * 0.8).toFixed(0); // 20% discount
                        priceElement.textContent = discountedPrice;
                    });
                } else {
                    // Show monthly plans
                    document.querySelectorAll('[data-plan-type="monthly"]').forEach(card => {
                        card.style.display = 'block';
                    });
                    document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                        card.style.display = 'none';
                    });
                    
                    // Toggle active class for labels
                    yearlyLabel.classList.remove('active');
                    monthlyLabel.classList.add('active');
                    yearlySavings.style.display = 'none';
                    
                    // Restore original prices
                    document.querySelectorAll('.display-4.fw-bold.text-primary-color').forEach(priceElement => {
                        const originalPrice = priceElement.getAttribute('data-original-price');
                        if (originalPrice) {
                            priceElement.textContent = originalPrice;
                        }
                    });
                }
            });
            
            // Trigger initial display setup
            document.querySelectorAll('[data-plan-type="yearly"]').forEach(card => {
                card.style.display = 'none';
            });
        }
    });
</script>
{% endblock %}
